name: docker-build-abstracted-test-yaml
description: A test project for docker build component
runtime: yaml
config:
  baseName:
    type: string
    default: ${PULUMI_PROJECT}
resources:
  dockerImage:
    type: container-services:DockerBuildPush
    properties:
      dockerFilePath: ./app
      destination: aws
  container: 
    type: container-services:ContainerRun
    properties:
      imageReference: ${dockerImage.imageRef},
outputs:
  imageRepositoryPath:
    value: ${dockerImage.repositoryPath}
  serviceUrl:
    value: https://${container.loadbalancerDnsName}
